---
layout: post
title: "JVM整体结构"
date: 2022-09-28 10:55:32
categories: JVM
tags: Java JVM整体结构
author: NanKe
---

* content
{:toc}
> 记录JVM的整体结构，包括类加载系统，运行时数据区，执行引擎，本地方法接口相关知识



` 知识图谱：`

![JVM知识图谱](https://raw.githubusercontent.com/crazymen-nanke/image/master/note/202303181354479.png)

---

# 一、JVM是什么？
JVM是Java虚拟机，**解释/编译**字节码文件为对应平台机器码指令运行，用于让Java程序运行在不同的平台，可以实现自动内存管理，自动的垃圾回收
# 二、JVM整体结构
## 1.类加载系统
负责从磁盘/网络中加载字节码文件，加载到内存中（运行时方法区）

[点击我查看类加载系统详细介绍](https://blog.csdn.net/qq_42897323/article/details/127085593?spm=1001.2014.3001.5501)

## 2.运行时数据区
存储运行时的数据
方法区，堆，栈，本地方法栈，程序计数器

[点击我查看运行时数据区详细介绍](https://blog.csdn.net/qq_42897323/article/details/127094493?spm=1001.2014.3001.5501)

## 3.执行引擎
负责将字节码**解释/编译**为真正的机器码

前端编译：将java文件通过javac编译为class文件
后端编译：将class文件通过执行引擎编译成机器执行指令

解释器：JVM运行程序时，逐行对字节码指令进行翻译，执行效率低
编译器（Just In Time/JIT）：对某段代码整体进行编译后执行，编译需要消耗时间，但是执行效率高

起初Java中只提供解释执行，但是解释执行的效率低，后来引入编译器，可以对热点代码（多次被使用的代码）进行编译直接编译成机器指令并缓存起来，执行效率变高

解释器是逐行进行解释执行，执行效率低，但是可以立即运行；编译器需要将代码进行编译后再执行，代码编译是需要时间的，所以将解释与编译相结合起来，对JVM的运行效率进行优化
## 4.本地方法接口
负责调用系统中的本地方法

Java执行某些任务的时候，必须要借助操作系统里面的方法或接口进行，此时执行的操作系统方法或接口就是本地方法接口，在Java源码中含有native修饰的方法就是在使用本地方法接口；例如：需要获取硬件信息，如内存地址，启动线程的时候我们使用本地方法接口就会很方便
